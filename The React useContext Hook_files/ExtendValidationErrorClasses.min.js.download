(function(n){n(function(){var r={"email-text-field-input":"email-text-field-container","text-field-input":"text-field-container","paragraph-text-field-textarea":"paragraph-text-field-container","dropdown-list-field-select":"dropdown-list-field-container","checkboxes-field-input":"checkboxes-field-container","multiple-choice-field-input":"multiple-choice-field-container","user-status-email-input":"user-status-email-container","dropdown-list-field-textarea":"dropdown-list-field-container"};function e(r){if(typeof r.target.validity!="undefined"){var e=n(r.target).data("sfRole"),o=w(),f=u(r.target);if(r.target.required&&r.target.validity.valueMissing)t(r.target,f.required);else if((e==="paragraph-text-field-textarea"||e==="dropdown-list-field-textarea")&&(r.target.validity.tooShort||r.target.validity.tooLong))t(r.target,f.maxLength);else if(e==="paragraph-text-field-textarea"&&n(r.target).attr("pattern")&&o){t(r.target,f.regularExpression);a(r.target,f.regularExpression);var s=i(r.target)}else t(r.target,"");r.target.setCustomValidity(n(s).hasClass("sfError")?f.regularExpression:"")}}function h(n){e(n)}function c(n){e(n)}function l(n){if(n.target.value===""){var i=u(n.target);t(n.target,i.required)}else t(n.target,"")}function a(n,t){var r=i(n);r?v(r,t):n.setCustomValidity(t)}function v(n,t){n.innerText=t;n.style.display=t===""?"none":"block"}function o(i){var r=n(i.target).parents('[data-sf-role="checkboxes-field-container"]'),u=n(r).find('[data-sf-role="checkboxes-field-input"]'),f=n(r).find('input[data-sf-role="checkboxes-field-input"]:checked').length>0;(f||r.find('[data-sf-role="required-validator"]').val()==="False")&&t(u[0],"")}function s(i){var r=n(i.target).parents('[data-sf-role="multiple-choice-field-container"]'),u=n(r).find('[data-sf-role="multiple-choice-field-input"]');u.each(function(n,i){t(i,"")})}function y(n){return n.match("^\\s*$")}function f(r){var e=n(r.target).data("sfRole");if(e==="dropdown-list-field-select"||e==="checkboxes-field-input"||e==="multiple-choice-field-input"){var c=u(r.target);i(r.target)&&r.preventDefault();r.target.validity.valueMissing&&t(r.target,c.required);return}if(typeof r.target.validity!="undefined"){i(r.target)&&r.preventDefault();var f=u(r.target);if(e==="paragraph-text-field-textarea"||e==="dropdown-list-field-textarea")r.target.validity.valueMissing?t(r.target,f.required):r.target.validity.tooShort||r.target.validity.tooLong?t(r.target,f.maxLength):r.target.validity.patternMismatch&&t(r.target,f.maxLength);else{var o=p(r.target),s=r.target.value.length>=o.minLength;if(o&&o.maxLength>0&&(s&=r.target.value.length<=o.maxLength),r.target.validity.valueMissing)t(r.target,f.required);else if(r.target.validity.patternMismatch&&!s)t(r.target,f.maxLength);else if(r.target.validity.patternMismatch&&s){if(e=="text-field-input"&&y(r.target.value)){var h=i(r.target);h&&(h.innerText=f.required)}t(r.target,f.regularExpression)}else r.target.validity.valid||t(r.target,f.invalid)}}}function u(t){var i=n(t).data("sfRole"),u=n(t).parents('[data-sf-role="'+r[i]+'"]'),f=n(u).find('[data-sf-role="violation-messages"]');return JSON.parse(f.val())}function p(t){var i=n(t).data("sfRole"),u=n(t).parents('[data-sf-role="'+r[i]+'"]'),f=n(u).find('[data-sf-role="violation-restrictions"]');return JSON.parse(f.val())}function t(t,r){var u=i(t);u&&(r===""?(n(u).removeClass("sfError"),n(u).parent().removeClass("sfErrorWrp")):(n(u).addClass("sfError"),n(u).parent().addClass("sfErrorWrp")))}function i(t){var u=n(t).data("sfRole"),i=n(t).closest('[data-sf-role="'+r[u]+'"]')[0];return i?i.querySelector('[data-sf-role="error-message"]'):null}function w(){var t=n("[data-sf-role=paragraph-text-field-textarea]"),i=new RegExp(t.attr("pattern")),r=!1;return t.length!=0&&i&&n.each(t.val().split("\n"),function(){var n=!this.match(i);n&&(r=!0)}),r}function b(){for(var i in r){var u=n('[data-sf-role="'+r[i]+'"]');if(u&&!(u.length<1))for(var a=function(n){n.on("change",o);n.on("input",o);n.on("invalid",f)},v=function(n){n.on("change",s);n.on("input",s);n.on("invalid",f)},e=0;e<u.length;e++){var t=n(u[e]).find('[data-sf-role="'+i+'"]');if(t)if(i==="checkboxes-field-input")a(t);else if(i==="multiple-choice-field-input")v(t);else{if(i!=="dropdown-list-field-select"){t.on("change",h);t.on("input",c)}else t.on("change",l);t.on("invalid",f)}}}}b()})})(jQuery)