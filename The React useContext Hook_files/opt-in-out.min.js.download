(function(n){var r=function(t){var r=t,o=r.find(".js-empty-value-check-box"),u=r.find(".js-disagree-value-check-box"),i=r.find(".js-i-agree-checkbox"),s=r.find(".js-customer-message-holder"),h=r.find(".js-i-agree-holder"),c=r.find(".js-already-agreed-holder"),p=JSON.parse(r.find('[data-sf-role="optinout-data"]').val()),l=r.closest('[data-sf-role="form-container"]'),f=l.find(".js-country-field"),w=function(t){n(t.target).is(":visible")&&(e(t.target)&&t.preventDefault(),t.target.validity.valueMissing&&k(t.target))},b=function(t){var i=n(t).parents('[data-sf-role="checkboxes-field-container"]'),r=n(i).find('[data-sf-role="violation-messages"]');return JSON.parse(r.val())},k=function(t){var u=b(t).required,r=e(t);r?(r.innerText=u,u===""?r.style.display="none":(r.style.display="block",r.classList.add("sfError"),r.parentElement.classList.add("sfErrorWrp"))):t.setCustomValidity(u);n(i).addClass("chbox-has-error")},a=function(t){var r=e(t);r&&(r.style.display="none",r.classList.remove("sfError"),r.parentElement.classList.remove("sfErrorWrp"));n(i).removeClass("chbox-has-error")},e=function(t){var i=n(t).closest('[data-sf-role="checkboxes-field-container"]')[0];return i?i.querySelector('[data-sf-role="error-message"]'):null};if(i.length>0){i.on("click",function(){var i=n(this),t=i.prop("checked");t&&a(this);u.prop("checked",!t)});i.on("invalid",w)}var v=function(t){var i=l.find('input[name="skipPrefillOnCountryChange"]');if(!i||!(i.length>0)||!i[0].checked){var r=n(t).find("option:selected").val();jQuery.inArray(r,p)!==-1?d():g()}},y=function(t,i){var r=n(t);if(i){var u=r.parents('[data-sf-role="checkboxes-field-container"]'),f=u.find('[data-sf-role="required-validator"]').val()==="True";if(f){r.attr("required","required");return}}r.removeAttr("required")},d=function(){h.show();c.hide();s.hide();o.prop("checked",!1);u.prop("checked",!0);i.prop("checked",!1);y(i,!0)},g=function(){h.hide();c.hide();s.hide();o.prop("checked",!0);u.prop("checked",!1);i.prop("checked",!1);y(i,!1);a(i)};if(f.length>0){f.on("change",function(){v(this)});v(f)}},t=n(".js-opt-in-out-container");if(t&&!(t.length<1))for(var i=0;i<t.length;i++)new r(n(t[i]))})(jQuery)